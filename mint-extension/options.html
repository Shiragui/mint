<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lens Capture – Settings</title>
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <div class="options">
    <h1>Lens Capture Settings</h1>
    <p class="hint">Vision is powered by Dedalus Labs or Google Gemini. API keys are stored locally and only sent to the chosen provider.</p>
    <label>
      <span>Vision provider</span>
      <select id="vision-provider">
        <option value="dedalus">Dedalus Labs</option>
        <option value="gemini">Google Gemini</option>
      </select>
    </label>
    <label id="label-dedalus">
      <span>Dedalus Labs API key</span>
      <input type="password" id="dedalus-api-key" placeholder="From Dedalus Dashboard" autocomplete="off">
    </label>
    <label id="label-gemini">
      <span>Google Gemini API key</span>
      <input type="password" id="gemini-api-key" placeholder="From Google AI Studio" autocomplete="off">
    </label>
    <label>
      <span>Backend URL (optional)</span>
      <input type="url" id="backend-url" placeholder="http://localhost:8000">
    </label>
    <label>
      <span>Auth token (optional)</span>
      <input type="password" id="auth-token" placeholder="Same token as on the website" autocomplete="off">
    </label>
    <p class="hint">If set, capture is sent to your backend for analysis and you can save items to view on the website.</p>
    <label>
      <span>Webhook URL (POST)</span>
      <input type="url" id="webhook-url" placeholder="https://your-site.com/api/lens">
    </label>
    <p class="hint">Used only when Backend URL is empty. The extension will POST: <code>{ "image": "base64…", "description": "…", "timestamp": "…" }</code></p>
    <button type="button" id="save" class="btn btn-primary">Save</button>
    <p id="options-status" class="status"></p>
  </div>
  <script src="options.js"></script>
</body>
</html>
